<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano Nutrizionale Interattivo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .instructions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin: 20px;
            color: #856404;
        }

        .meals-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 30px;
            padding: 30px;
        }

        .meal-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-left: 5px solid #4facfe;
        }

        .meal-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .meal-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .breakfast .meal-icon { background: #fff3cd; }
        .lunch .meal-icon { background: #d4edda; }
        .dinner .meal-icon { background: #cce7ff; }
        .snack .meal-icon { background: #f8d7da; }

        .food-category {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #dee2e6;
        }

        .category-image {
            width: 50px;
            height: 50px;
            background: #e9ecef;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .category-info {
            flex: 1;
        }

        .category-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #495057;
            margin-bottom: 5px;
        }

        .category-base {
            font-size: 1rem;
            color: #6c757d;
        }

        .category-status {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 5px;
        }

        .category-total {
            font-size: 1rem;
            font-weight: bold;
            color: #4facfe;
            background: white;
            padding: 8px 12px;
            border-radius: 15px;
            border: 2px solid #4facfe;
        }

        .percentage-used {
            font-size: 0.9rem;
            font-weight: bold;
            color: #28a745;
        }

        .percentage-used.warning {
            color: #dc3545;
        }

        .food-options {
            display: grid;
            gap: 15px;
        }

        .food-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .food-item.active {
            border-color: #4facfe;
            background: #f0f8ff;
        }

        .food-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .food-name {
            font-weight: bold;
            color: #495057;
        }

        .food-base {
            font-size: 0.9rem;
            color: #6c757d;
        }

        .food-controls {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #dee2e6;
        }

        .food-item.active .food-controls {
            display: block;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .percentage-label {
            font-weight: bold;
            color: #495057;
            min-width: 20px;
        }

        .food-slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .food-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .food-amounts {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .current-amount {
            font-weight: bold;
            color: #4facfe;
            font-size: 1.1rem;
        }

        .percentage-display {
            font-weight: bold;
            color: #28a745;
            min-width: 60px;
            text-align: right;
        }

        .select-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .reset-category {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .reset-category:hover {
            background: #5a6268;
        }

        .warning {
            color: #dc3545 !important;
        }

        /* Miglioramenti generali per mobile */
        .grams-input {
            -webkit-appearance: none;
            appearance: none;
            border-radius: 6px;
            transition: border-color 0.2s;
        }

        .grams-input:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 2px rgba(79, 172, 254, 0.2);
        }

        .food-slider {
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
        }

        .food-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .food-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .select-checkbox {
            width: 18px;
            height: 18px;
            margin-right: 8px;
        }

        /* Tablet e dispositivi medi */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            .meals-container {
                grid-template-columns: 1fr;
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                padding: 20px;
                gap: 20px;
            }
            
            .meal-section {
                padding: 20px;
            }

            .slider-container {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }
            
            .food-amounts {
                justify-content: flex-start;
                flex-wrap: wrap;
                gap: 8px;
            }

            .grams-input {
                width: 70px !important;
                font-size: 16px !important; /* Previene zoom su iOS */
            }
        }

        /* Smartphone */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 15px;
            }

            .header {
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .navigation-menu {
                margin: 15px !important;
                padding: 15px !important;
            }

            .navigation-menu select {
                width: 100%;
                padding: 12px !important;
                font-size: 16px !important;
            }

            .navigation-menu > div {
                flex-direction: column !important;
                gap: 10px !important;
            }

            .instructions {
                margin: 15px;
                padding: 15px;
                font-size: 0.9rem;
            }

            .meals-container {
                grid-template-columns: 1fr;
                padding: 15px;
                gap: 15px;
            }
            
            .meal-section {
                padding: 15px;
            }

            .meal-section h2 {
                font-size: 1.4rem;
                margin-bottom: 15px;
            }

            .category-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .category-status {
                align-self: stretch;
            }

            .food-item {
                padding: 15px;
            }

            .food-item-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .food-controls {
                margin-top: 15px;
            }

            .slider-container {
                flex-direction: row;
                align-items: center;
                gap: 8px;
                margin-bottom: 10px;
            }

            .food-slider {
                flex: 1;
                min-height: 44px; /* Touch target */
            }

            .food-amounts {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .grams-input {
                width: 100px !important;
                padding: 12px 8px !important;
                font-size: 16px !important;
                min-height: 44px; /* Touch target */
            }

            .select-checkbox {
                transform: scale(1.2); /* Checkbox più grande */
            }

            .reset-category {
                padding: 10px 15px;
                font-size: 0.9rem;
                min-height: 44px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🍎 Piano Nutrizionale Interattivo</h1>
            <p class="subtitle">Sistema basato su equivalenze caloriche per ogni categoria alimentare</p>
        </div>

        <div class="instructions">
            <strong>Come funziona il sistema:</strong>
            <ul style="margin-top: 10px; margin-left: 20px;">
                <li><strong>Seleziona alimenti:</strong> Spunta gli alimenti che vuoi mangiare</li>
                <li><strong>Regola percentuali:</strong> Ogni slider riduce/aumenta la % di quell'alimento specifico</li>
                <li><strong>Equivalenze caloriche:</strong> Se riduci del 20% un alimento, liberi il 20% delle "calorie" di quella categoria</li>
                <li><strong>Esempio:</strong> Latte al 80% (120g) + Yogurt greco al 20% (30g) = 100% delle calorie della categoria</li>
                <li><strong>Limite:</strong> La somma delle percentuali non deve superare il 100%</li>
            </ul>
        </div>

        <!-- Menu di navigazione -->
        <div class="navigation-menu" style="padding: 20px; background: white; margin: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <div style="display: flex; align-items: center; gap: 15px; justify-content: center;">
                <label for="meal-selector" style="font-weight: bold; color: #2c3e50;">Vai al pasto:</label>
                <select id="meal-selector" onchange="scrollToMeal(this.value)" style="padding: 10px 15px; border: 2px solid #4facfe; border-radius: 8px; background: white; color: #2c3e50; font-size: 16px; cursor: pointer;">
                    <option value="">-- Seleziona un pasto --</option>
                    <option value="breakfast">🌅 Colazione</option>
                    <option value="snack1">🍎 Spuntino Mattina</option>
                    <option value="lunch">🍽️ Pranzo</option>
                    <option value="snack2">🥜 Spuntino Pomeriggio</option>
                    <option value="dinner">🌙 Cena</option>
                </select>
            </div>
        </div>

        <div class="meals-container">
            <!-- COLAZIONE -->
            <div class="meal-section breakfast" id="breakfast">
                <h2><div class="meal-icon">🌅</div>Colazione</h2>
                
                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🥛</div>
                        <div class="category-info">
                            <div class="category-title">Latticini e Proteine</div>
                            <div class="category-base">Equivalenza calorica base: Latte 150g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="breakfast-dairy-grams">150g totali</div>
                            <div class="percentage-used" id="breakfast-dairy-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('breakfast-dairy')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="breakfast-dairy" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Latte di vacca UHT parz scremato</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">150g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="150" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="food-item" data-category="breakfast-dairy" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Yogurt greco magro 0%</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-dairy" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Yogurt da latte parz scremato</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-dairy" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Prosciutto cotto magro</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-dairy" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ricotta di vacca</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍪</div>
                        <div class="category-info">
                            <div class="category-title">Carboidrati</div>
                            <div class="category-base">Equivalenza calorica base: Fette biscottate 32g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="breakfast-carbs-grams">32g totali</div>
                            <div class="percentage-used" id="breakfast-carbs-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('breakfast-carbs')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="breakfast-carbs" data-base="32">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Fette biscottate integrali</div>
                                <div class="food-base">Equivalenza: 32g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">32g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="32" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-carbs" data-base="20">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fette biscottate</div>
                                <div class="food-base">Equivalenza: 20g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Biscotti secchi</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-carbs" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pane integrale</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-carbs" data-base="35">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pane di tipo 1 (pezzatura > 500gr)</div>
                                <div class="food-base">Equivalenza: 35g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="breakfast-carbs" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fiocchi d'avena</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SPUNTINO MATTUTINO -->
            <div class="meal-section snack" id="snack1">
                <h2><div class="meal-icon">🍎</div>Spuntino Mattutino</h2>
                
                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍯</div>
                        <div class="category-info">
                            <div class="category-title">Frutta e Snack</div>
                            <div class="category-base">Equivalenza calorica base: Mele 150g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="morning-snack-grams">150g totali</div>
                            <div class="percentage-used" id="morning-snack-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('morning-snack')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="morning-snack" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Mele</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">150g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="150" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Arance</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Clementine</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Albicocche</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Kiwi</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ciliege</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fragole</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pere</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pesche senza buccia</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Prugne</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ananas - fette</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Mirtilli</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Yogurt da latte parz scremato</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Yogurt greco magro 0%</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="morning-snack" data-base="25">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Crackers integrali</div>
                                <div class="food-base">Equivalenza: 25g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PRANZO -->
            <div class="meal-section lunch" id="lunch">
                <h2><div class="meal-icon">🍽️</div>Pranzo</h2>
                
                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍝</div>
                        <div class="category-info">
                            <div class="category-title">Carboidrati Principali</div>
                            <div class="category-base">Equivalenza calorica base: Pasta di semola 80g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="lunch-carbs-grams">80g totali</div>
                            <div class="percentage-used" id="lunch-carbs-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('lunch-carbs')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="lunch-carbs" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Pasta di semola</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">80g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pasta integrale</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Riso integrale (sbramato)</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Riso Basmati</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="90">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Farro o Spelta</div>
                                <div class="food-base">Equivalenza: 90g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="90">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Orzo perlato</div>
                                <div class="food-base">Equivalenza: 90g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Grano saraceno</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Quinoa</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="120">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pane integrale</div>
                                <div class="food-base">Equivalenza: 120g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="110">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pane di tipo 1 (pezzatura > 500gr)</div>
                                <div class="food-base">Equivalenza: 110g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-carbs" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Avena</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🐟</div>
                        <div class="category-info">
                            <div class="category-title">Proteine</div>
                            <div class="category-base">Equivalenza calorica base: Merluzzo o nasello fresco 130g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="lunch-proteins-grams">130g totali</div>
                            <div class="percentage-used" id="lunch-proteins-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('lunch-proteins')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="lunch-proteins" data-base="130">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Merluzzo o nasello fresco</div>
                                <div class="food-base">Equivalenza: 130g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">130g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="90">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Dentice fresco</div>
                                <div class="food-base">Equivalenza: 90g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="110">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Sogliola</div>
                                <div class="food-base">Equivalenza: 110g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="120">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Palombo</div>
                                <div class="food-base">Equivalenza: 120g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Triglia</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="90">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pollo - petto</div>
                                <div class="food-base">Equivalenza: 90g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Vitello - magro</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Bovino adulto o vitellone - carne magra</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="70">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Maiale - carne magra</div>
                                <div class="food-base">Equivalenza: 70g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="85">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Tacchino - fesa</div>
                                <div class="food-base">Equivalenza: 85g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="90">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Coniglio - carne magra</div>
                                <div class="food-base">Equivalenza: 90g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ricotta di vacca</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Parmigiano</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Mozzarella di vacca</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="70">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Prosciutto cotto magro</div>
                                <div class="food-base">Equivalenza: 70g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="140">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Calamari freschi</div>
                                <div class="food-base">Equivalenza: 140g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-proteins" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Sgombro o maccarello fresco</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🥬</div>
                        <div class="category-info">
                            <div class="category-title">Verdure</div>
                            <div class="category-base">Equivalenza calorica base: Bieta 200g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="lunch-vegetables-grams">200g totali</div>
                            <div class="percentage-used" id="lunch-vegetables-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('lunch-vegetables')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="lunch-vegetables" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Bieta</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">200g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Carciofi</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Rucola o rughetta</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Zucchine</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Cetrioli</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Cicoria di campo</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Melanzane</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Peperoni</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fagiolini</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Finocchi</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Spinaci</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Lattuga</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pomodori - da insalata</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Broccoletti di rapa</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-vegetables" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Cavolfiore</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🫒</div>
                        <div class="category-info">
                            <div class="category-title">Condimenti</div>
                            <div class="category-base">Quantità fissa obbligatoria</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="lunch-condiments-grams">20g fissi</div>
                            <div class="percentage-used" id="lunch-condiments-percent">Obbligatorio</div>
                        </div>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="lunch-condiments" data-base="20" style="background: #e8f5e8; border-color: #28a745;">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked disabled style="opacity: 0.6;">
                                <div class="food-name" style="color: #155724; font-weight: bold;">Olio extra vergine di oliva</div>
                                <div class="food-base" style="color: #155724;">Quantità fissa: 20g</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="100" max="100" value="100" disabled style="opacity: 0.6;">
                                    <div class="percentage-display" style="color: #155724; font-weight: bold;">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount" style="color: #155724; font-weight: bold;">20g</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍎</div>
                        <div class="category-info">
                            <div class="category-title">Frutta</div>
                            <div class="category-base">Equivalenza calorica base: Mele 150g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="lunch-fruits-grams">150g totali</div>
                            <div class="percentage-used" id="lunch-fruits-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('lunch-fruits')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="lunch-fruits" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Mele</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">150g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="150" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Arance</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Clementine</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Albicocche</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Kiwi</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ciliege</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fragole</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pere</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pesche senza buccia</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Prugne</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ananas - fette</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="lunch-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Melone estivo</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MERENDA -->
            <div class="meal-section snack" id="snack2">
                <h2><div class="meal-icon">🥪</div>Merenda</h2>
                
                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍓</div>
                        <div class="category-info">
                            <div class="category-title">Spuntini Vari</div>
                            <div class="category-base">Equivalenza calorica base: Yogurt da latte parz scremato 150g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="snack-mixed-grams">150g totali</div>
                            <div class="percentage-used" id="snack-mixed-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('snack-mixed')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="snack-mixed" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Yogurt da latte parz scremato</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">150g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="150" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Yogurt greco magro 0%</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Mele</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Arance</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Clementine</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Albicocche</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Kiwi</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ciliege</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fragole</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pere</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pesche senza buccia</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Prugne</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ananas - fette</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Mirtilli</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="15">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Mandorle dolci secche</div>
                                <div class="food-base">Equivalenza: 15g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="15">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Nocciole secche</div>
                                <div class="food-base">Equivalenza: 15g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="snack-mixed" data-base="15">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Noci secche</div>
                                <div class="food-base">Equivalenza: 15g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CENA -->
            <div class="meal-section dinner" id="dinner">
                <h2><div class="meal-icon">🌙</div>Cena</h2>
                
                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍝</div>
                        <div class="category-info">
                            <div class="category-title">Carboidrati</div>
                            <div class="category-base">Equivalenza calorica base: Pasta di semola 40g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="dinner-carbs-grams">40g totali</div>
                            <div class="percentage-used" id="dinner-carbs-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('dinner-carbs')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="dinner-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Pasta di semola</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">40g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pasta integrale</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Riso integrale (sbramato)</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Riso Basmati</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Farro o Spelta</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Orzo perlato</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Grano saraceno</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Quinoa</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="60">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Avena</div>
                                <div class="food-base">Equivalenza: 60g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="60">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pane integrale</div>
                                <div class="food-base">Equivalenza: 60g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-carbs" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pane di tipo 1 (pezzatura > 500gr)</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🥔</div>
                        <div class="category-info">
                            <div class="category-title">Carboidrati Alternativi</div>
                            <div class="category-base">Equivalenza calorica base: Pane integrale 50g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="dinner-alt-carbs-grams">50g totali</div>
                            <div class="percentage-used" id="dinner-alt-carbs-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('dinner-alt-carbs')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="dinner-alt-carbs" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Pane integrale</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">50g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="50">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pane di tipo 1 (pezzatura > 500gr)</div>
                                <div class="food-base">Equivalenza: 50g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pasta di semola</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pasta integrale</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Riso integrale (sbramato)</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Riso Basmati</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Farro o Spelta</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Orzo perlato</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="40">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Grano saraceno</div>
                                <div class="food-base">Equivalenza: 40g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-alt-carbs" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Patate</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍗</div>
                        <div class="category-info">
                            <div class="category-title">Proteine</div>
                            <div class="category-base">Equivalenza calorica base: Petto di pollo 100g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="dinner-proteins-grams">100g totali</div>
                            <div class="percentage-used" id="dinner-proteins-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('dinner-proteins')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="dinner-proteins" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Petto di pollo</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">100g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="140">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Merluzzo o nasello fresco</div>
                                <div class="food-base">Equivalenza: 140g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Dentice fresco</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="120">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Sogliola</div>
                                <div class="food-base">Equivalenza: 120g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="130">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Palombo</div>
                                <div class="food-base">Equivalenza: 130g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Triglia</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="110">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Vitello - magro</div>
                                <div class="food-base">Equivalenza: 110g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="90">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Bovino adulto o vitellone - carne magra</div>
                                <div class="food-base">Equivalenza: 90g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="70">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Maiale - carne magra</div>
                                <div class="food-base">Equivalenza: 70g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="95">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Tacchino - fesa</div>
                                <div class="food-base">Equivalenza: 95g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Coniglio - carne magra</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ricotta di vacca</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="30">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Parmigiano</div>
                                <div class="food-base">Equivalenza: 30g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Mozzarella di vacca</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="80">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Prosciutto cotto magro</div>
                                <div class="food-base">Equivalenza: 80g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Calamari freschi</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="60">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Sgombro o maccarello fresco</div>
                                <div class="food-base">Equivalenza: 60g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-proteins" data-base="120">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Uovo di gallina - intero</div>
                                <div class="food-base">Equivalenza: 120g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🥬</div>
                        <div class="category-info">
                            <div class="category-title">Verdure</div>
                            <div class="category-base">Equivalenza calorica base: Zucchine 200g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="dinner-vegetables-grams">200g totali</div>
                            <div class="percentage-used" id="dinner-vegetables-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('dinner-vegetables')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="dinner-vegetables" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Zucchine</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">200g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Bieta</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Carciofi</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Rucola o rughetta</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Cetrioli</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Cicoria di campo</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Melanzane</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Peperoni</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fagiolini</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Finocchi</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Spinaci</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Lattuga</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pomodori - da insalata</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Broccoletti di rapa</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-vegetables" data-base="100">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Cavolfiore</div>
                                <div class="food-base">Equivalenza: 100g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🫒</div>
                        <div class="category-info">
                            <div class="category-title">Condimenti</div>
                            <div class="category-base">Quantità fissa obbligatoria</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="dinner-condiments-grams">20g fissi</div>
                            <div class="percentage-used" id="dinner-condiments-percent">Obbligatorio</div>
                        </div>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="dinner-condiments" data-base="20" style="background: #e8f5e8; border-color: #28a745;">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked disabled style="opacity: 0.6;">
                                <div class="food-name" style="color: #155724; font-weight: bold;">Olio extra vergine di oliva</div>
                                <div class="food-base" style="color: #155724;">Quantità fissa: 20g</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="100" max="100" value="100" disabled style="opacity: 0.6;">
                                    <div class="percentage-display" style="color: #155724; font-weight: bold;">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount" style="color: #155724; font-weight: bold;">20g</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="food-category">
                    <div class="category-header">
                        <div class="category-image">🍎</div>
                        <div class="category-info">
                            <div class="category-title">Frutta</div>
                            <div class="category-base">Equivalenza calorica base: Pere 200g</div>
                        </div>
                        <div class="category-status">
                            <div class="category-total" id="dinner-fruits-grams">200g totali</div>
                            <div class="percentage-used" id="dinner-fruits-percent">100% usato</div>
                        </div>
                        <button class="reset-category" onclick="resetCategory('dinner-fruits')">Reset</button>
                    </div>
                    <div class="food-options">
                        <div class="food-item active" data-category="dinner-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" checked onchange="toggleFood(this)">
                                <div class="food-name">Pere</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="100" onchange="updateFood(this)">
                                    <div class="percentage-display">100%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">200g</div>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Mele</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Arance</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Clementine</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Albicocche</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Kiwi</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ciliege</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Fragole</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="300">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Pesche senza buccia</div>
                                <div class="food-base">Equivalenza: 300g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="150">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Prugne</div>
                                <div class="food-base">Equivalenza: 150g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="200">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Ananas - fette</div>
                                <div class="food-base">Equivalenza: 200g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>

                        <div class="food-item" data-category="dinner-fruits" data-base="250">
                            <div class="food-item-header">
                                <input type="checkbox" class="select-checkbox" onchange="toggleFood(this)">
                                <div class="food-name">Melone estivo</div>
                                <div class="food-base">Equivalenza: 250g = 100%</div>
                            </div>
                            <div class="food-controls">
                                <div class="slider-container">
                                    <div class="percentage-label">%</div>
                                    <input type="range" class="food-slider" min="0" max="100" value="0" onchange="updateFood(this)">
                                    <div class="percentage-display">0%</div>
                                </div>
                                <div class="food-amounts">
                                    <div class="current-amount">0g</div>
                                    <input type="number" class="grams-input" min="0" max="1000" value="0" onchange="updateFromGrams(this)" style="width: 80px; padding: 5px; margin-left: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                    <span style="margin-left: 5px;">g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Funzione per la navigazione rapida ai pasti
        function scrollToMeal(mealId) {
            if (mealId) {
                const mealElement = document.getElementById(mealId);
                if (mealElement) {
                    mealElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        }

        function toggleFood(checkbox) {
            const foodItem = checkbox.closest('.food-item');
            const isActive = checkbox.checked;
            
            if (isActive) {
                foodItem.classList.add('active');
                // Se viene attivato, se il valore è 0, impostalo a un valore di default
                const slider = foodItem.querySelector('.food-slider');
                if (slider.value == 0) {
                    slider.value = 30; // Valore di default quando si attiva
                    updateFood(slider);
                }
            } else {
                foodItem.classList.remove('active');
                // Se viene disattivato, imposta a 0
                const slider = foodItem.querySelector('.food-slider');
                slider.value = 0;
                updateFood(slider);
            }
            
            updateCategory(foodItem.dataset.category);
        }

        function updateFood(slider) {
            const foodItem = slider.closest('.food-item');
            const baseAmount = parseInt(foodItem.dataset.base);
            const percentage = parseInt(slider.value);
            const currentAmount = Math.round(baseAmount * percentage / 100);
            
            // Aggiorna la visualizzazione della percentuale
            const percentageDisplay = foodItem.querySelector('.percentage-display');
            percentageDisplay.textContent = percentage + '%';
            
            // Aggiorna la visualizzazione della quantità attuale
            const amountDisplay = foodItem.querySelector('.current-amount');
            amountDisplay.textContent = currentAmount + 'g';
            
            // Aggiorna anche l'input dei grammi se presente
            const gramsInput = foodItem.querySelector('.grams-input');
            if (gramsInput) {
                gramsInput.value = currentAmount;
            }
            
            // Aggiorna la categoria
            updateCategory(foodItem.dataset.category);
        }

        // Funzione per aggiornare dal campo di input dei grammi
        function updateFromGrams(input) {
            const foodItem = input.closest('.food-item');
            const baseAmount = parseInt(foodItem.dataset.base);
            const targetGrams = parseInt(input.value) || 0;
            
            // Calcola la percentuale corrispondente
            const percentage = Math.min(100, Math.round((targetGrams / baseAmount) * 100));
            
            // Aggiorna lo slider
            const slider = foodItem.querySelector('.food-slider');
            slider.value = percentage;
            
            // Aggiorna le visualizzazioni
            const percentageDisplay = foodItem.querySelector('.percentage-display');
            percentageDisplay.textContent = percentage + '%';
            
            const amountDisplay = foodItem.querySelector('.current-amount');
            const actualGrams = Math.round(baseAmount * percentage / 100);
            amountDisplay.textContent = actualGrams + 'g';
            
            // Aggiorna il valore dell'input per essere coerente
            input.value = actualGrams;
            
            // Aggiorna la categoria
            updateCategory(foodItem.dataset.category);
        }

        function updateCategory(categoryId) {
            const categoryItems = document.querySelectorAll(`[data-category="${categoryId}"]`);
            let totalPercentage = 0;
            let totalGrams = 0;
            
            categoryItems.forEach(item => {
                const checkbox = item.querySelector('.select-checkbox');
                const slider = item.querySelector('.food-slider');
                
                if (checkbox.checked) {
                    const percentage = parseInt(slider.value);
                    const baseAmount = parseInt(item.dataset.base);
                    const currentAmount = Math.round(baseAmount * percentage / 100);
                    
                    totalPercentage += percentage;
                    totalGrams += currentAmount;
                }
            });
            
            // Aggiorna la visualizzazione del totale in grammi
            const gramsDisplay = document.getElementById(categoryId + '-grams');
            gramsDisplay.textContent = totalGrams + 'g totali';
            
            // Aggiorna la visualizzazione della percentuale usata
            const percentDisplay = document.getElementById(categoryId + '-percent');
            percentDisplay.textContent = totalPercentage + '% usato';
            
            // Colora in base al fatto che sia entro i limiti (≤ 100%) o meno
            if (totalPercentage > 100) {
                percentDisplay.classList.add('warning');
                gramsDisplay.classList.add('warning');
            } else {
                percentDisplay.classList.remove('warning');
                gramsDisplay.classList.remove('warning');
            }
        }

        function resetCategory(categoryId) {
            const categoryItems = document.querySelectorAll(`[data-category="${categoryId}"]`);
            
            categoryItems.forEach((item, index) => {
                const checkbox = item.querySelector('.select-checkbox');
                const slider = item.querySelector('.food-slider');
                
                if (index === 0) {
                    // Il primo elemento viene attivato al 100%
                    checkbox.checked = true;
                    slider.value = 100;
                    item.classList.add('active');
                } else {
                    // Gli altri vengono disattivati
                    checkbox.checked = false;
                    slider.value = 0;
                    item.classList.remove('active');
                }
                
                updateFood(slider);
            });
        }

        // Inizializzazione
        document.addEventListener('DOMContentLoaded', function() {
            // Imposta gli stati iniziali
            document.querySelectorAll('.food-item').forEach(item => {
                const checkbox = item.querySelector('.select-checkbox');
                if (checkbox.checked) {
                    item.classList.add('active');
                }
                
                const slider = item.querySelector('.food-slider');
                updateFood(slider);
            });
        });
    </script>
</body>
</html>